# DodaLock v1.0
[![en](https://img.shields.io/badge/lang-en-red.svg)](README.md)
[![ru](https://img.shields.io/badge/lang-ru-blue.svg)](README.ru.md)

## Описание

Spigot плагин добавляющий замки и кодовые замки для дверей, люков, бочек и сундуков.

## Особенности

* Закрывай свои двери, люки, бочки и сундуки от других игроков.
* Возможность использования как обычных, так и кодовых замков.
* Кодовый замок, обычный замок, ключ к нему и связка ключей имеют 
свой крафт.
* Совместим с новыми предметами версии Minecraft 1.20.
* Есть локализация на английский и русский языки.
* Открытый исходный код (лицензия GNU GPL v3).

## Как использовать плагин?

Держа в главной руке кодовый или обычный замок, нажмите в приседе 
ПКМ на дверь, люк, бочку или сундук, таким образом вы поставите его. 

В случае кодового замка, необходимо ввести пароль. После того как
вы ввели пароль, вы сможете открывать этот объект. Игроки, имеющие
мастер ключ, смогут открывать этот объект без ввода пароля.

В случае обычного замка необходимо, держа в главной руке ключ, 
нажать в приседе ПКМ на объект, на котором висит
замок, чтобы создать ключ для данного замка. Теперь, когда вы
имеете ключ от данного объекта, вы можете открывать его, используя
этот ключ или же мастер ключ для администраторов.

Чтобы снять какой-либо замок, нажмите в приседе ЛКМ. В случае с
обычным замком, необходимо держать ключ в руках, а в случае с
кодовым замком, необходимо быть авторизованным, то есть ввести
пароль от него как минимум один раз.

Любые ключи можно хранить в связке ключей. Чтобы положить ключи в
связку ключей, необходимо держать её в главной руке и в приседе
нажать ПКМ. Также связку ключей можно использовать и для открытия
объектов, на которых установлен замок, если связка ключей содержит
в себе ключ от этого замка.

Любой привязанный к замку ключ можно клонировать. Для этого
необходимо ввести команду `/clone`, держа в главной руке этот
ключ, при этом в инвентаре игрока должен быть обычный (не
привязанный к какому-любо замку) ключ.

## Видео

_Скоро появится._

Видеоролик с инструкцией по применению находится на моём YouTube-канале
по данной ссылке.

Если же вы сняли видеоролик про мой плагин, то прошу Вас прислать его мне.

## Документация

Это документация для плагина DodaLock v1.0.

### Общая информация

Вы сможете закрыть двери, люки, бочки и сундуки с помощью
обычного или кодового замка.

Обычный замок требует использования ключа.

Кодовый замок же требует ввести пароль, состоящий из четырёх цифр,
причём замок запоминает авторизованного игрока и ему не придётся
вводить пароль повторно.

Любой замок можно открыть мастер ключом, если эта настройка
включена в конфиге.

Любые ключи можно хранить в связке ключей.

Ключи можно клонировать, имея обычный ключ.

### Рецепты крафтов

Все новые предметы имеют свой рецепт крафта.

Рецепт крафта замка:

![Рецепт крафта замка](https://github.com/dodabyte/DodaLock/blob/screenshots/recipe_crafts_images/lock_craft.png?raw=true)

Рецепт крафта кодового замка:

![Рецепт крафта кодового замка](https://github.com/dodabyte/DodaLock/blob/screenshots/recipe_crafts_images/code_lock_craft.png?raw=true)

Рецепт крафта ключа:

![Рецепт крафта ключа](https://github.com/dodabyte/DodaLock/blob/screenshots/recipe_crafts_images/key_craft.png?raw=true)

Рецепт крафта связки ключей:

![Рецепт крафта связки ключей](https://github.com/dodabyte/DodaLock/blob/screenshots/recipe_crafts_images/bunch_of_keys_craft.png?raw=true)

Рецепт крафта мастер ключа:

![Рецепт крафта мастер ключа](https://github.com/dodabyte/DodaLock/blob/screenshots/recipe_crafts_images/master_key_craft.png?raw=true)

### Команды

Для работы с плагином в игре вам необходимо ввести команду 
`/dodalock` или `/dl`

`/dodalock help` - Вызов помощи к плагину.

`/dodalock list [all | codelocks | locks]` - Получение списка установленных замков.

`/dodalock remove [codelock | lock] [number | location]` - Удаление замка.

`/dodalock clear [all | codelock | lock]` - Удаление всех замков.

`/dodalock clone` - Клонировать ключ, находящийся в главной руке.

`/dodalock give {player} [codelock | lock | key | masterkey | bunchofkeys]` - Выдать указанному игроку один из пользовательских предметов плагина.

`/dodalock reload` - Перезагрузка плагина.

### Файл конфигурации

`language` - Язык интерфейса плагина. По умолчанию: en_us (английский).

`allow_clear_bunch_of_keys_inventory` - Параметр, который включает периодическую очистку данных инвентаря связки ключей. По умолчанию: true.

`verification_period` - Установка частоты (в часах) проверки инвентаря связки ключей для очистки. По умолчанию: 3.

`enable_key_lore` - Настройка, позволяющая включить лор для ключей и связки ключей, отображающий координаты замка, с которым связан ключ или ключи. По умолчанию: true.

`enable_damage` - Настройка, позволяющая включить урон от кодового замка при неправильных попытках ввода пароля. По умолчанию: true.

`max_attempts_to_take_damage` - Установка максимального количества попыток, при которых не наносится урон от неправильного ввода пароля. По умолчанию: 3.

`enable_master_key` - Настройка, позволяющая использовать универсальный ключ для администраторов. По умолчанию: true.

`enable_resourcepack` - Настройка включения пользовательского пакета ресурсов для плагина. По умолчанию: true.

`resourcepack_url` - Параметр, отвечающий за ссылку на пакет ресурсов. По умолчанию:  http://resourcepack.host/dl/CBdqxUZ66Q7b6HOV8OoVYM7pJjclsUEF/DodaLock.zip.

`items` - Настройка рецептов для создания пользовательских предметов.

`shape` - Форма крафта предметов. Максимум три строки и по три символа в строке, где символ "-" - это ничего (пустая клетка). Пример: #$#, -#-, #$#.

`shape_materials` - Материалы, предназначенные для крафта. Пример: #: IRON_INGOT, $: STICK

`items.code_lock.shape` - По умолчанию: $$$, &*%, $$$.

`items.code_lock.shape_materials` - По умолчанию: '$: IRON_INGOT, *: REDSTONE_BLOCK, &: STONE_BUTTON, %: GLASS_PANE'.

`items.lock.shape` - По умолчанию: -$-, %%%, %%%.

`items.lock.shape_materials` - По умолчанию: '$: STRING, %: IRON_INGOT'.

`items.key.shape` - По умолчанию: '%, $'

`items.key.shape_materials` - По умолчанию: '%: IRON_INGOT, $: LEVER'

`items.master_key.shape` - По умолчанию:  '%, $'

`items.master_key.shape_materials` - По умолчанию: '%: IRON_INGOT, $: COMMAND_BLOCK'

`items.bunch_of_keys.shape` - По умолчанию: -$-, $%$, -$-

`items.bunch_of_keys.shape_materials` - По умолчанию: '%: IRON_INGOT, $: STRING'

### Разрешения (Permissions)

Разрешения для администраторов:

`dodalock.craft.masterkey` - Право на создание мастер ключа.

`dodalock.give.key` - Право на выдачу ключа.

`dodalock.give.masterkey` - Право на выдачу мастер ключа.

`dodalock.give.lock` - Право на выдачу замка.

`dodalock.give.codelock` - Право на выдачу кодового замка.

`dodalock.give.bunchofkeys` - Право на выдачу связки ключей.

### Совместимость с серверами

Этот плагин совместим с Spigot. 
Использование CraftBukkit не сработает. 
В настоящее время поддерживаются версии Minecraft от 1.19 до 1.20.1.